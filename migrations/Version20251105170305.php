<?php

declare(strict_types=1);

namespace DoctrineMigrations;

use Doctrine\DBAL\Schema\Schema;
use Doctrine\Migrations\AbstractMigration;

/**
 * Auto-generated Migration: Please modify to your needs!
 */
final class Version20251105170305 extends AbstractMigration
{
    public function getDescription(): string
    {
        return '';
    }

    public function up(Schema $schema): void
    {
        // this up() migration is auto-generated, please modify it to your needs
        $this->addSql('ALTER TABLE competitions DROP FOREIGN KEY users_id');
        $this->addSql('CREATE TABLE user (id INT AUTO_INCREMENT NOT NULL, user VARCHAR(30) DEFAULT NULL, password VARCHAR(30) DEFAULT NULL, status VARCHAR(12) DEFAULT NULL, time DATETIME DEFAULT NULL, blocked VARCHAR(7) DEFAULT NULL, nominations_id INT NOT NULL, team VARCHAR(45) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB');
        $this->addSql('CREATE TABLE messenger_messages (id BIGINT AUTO_INCREMENT NOT NULL, body LONGTEXT NOT NULL, headers LONGTEXT NOT NULL, queue_name VARCHAR(190) NOT NULL, created_at DATETIME NOT NULL COMMENT \'(DC2Type:datetime_immutable)\', available_at DATETIME NOT NULL COMMENT \'(DC2Type:datetime_immutable)\', delivered_at DATETIME DEFAULT NULL COMMENT \'(DC2Type:datetime_immutable)\', INDEX IDX_75EA56E0FB7336F0 (queue_name), INDEX IDX_75EA56E0E3BD61CE (available_at), INDEX IDX_75EA56E016BA31DB (delivered_at), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB');
        $this->addSql('ALTER TABLE main_table DROP FOREIGN KEY competition_num');
        $this->addSql('ALTER TABLE sessions_table DROP FOREIGN KEY sessions_table_ibfk_1');
        $this->addSql('DROP TABLE computer_status');
        $this->addSql('DROP TABLE main_table');
        $this->addSql('DROP TABLE sessions_table');
        $this->addSql('DROP TABLE users');
        $this->addSql('ALTER TABLE competitions DROP FOREIGN KEY users_id');
        $this->addSql('ALTER TABLE competitions DROP status, CHANGE users_id Users_id INT NOT NULL');
        $this->addSql('ALTER TABLE competitions ADD CONSTRAINT FK_A7DD463D9EC5D66B FOREIGN KEY (Users_id) REFERENCES user (id)');
        $this->addSql('DROP INDEX users_id ON competitions');
        $this->addSql('CREATE INDEX IDX_A7DD463D9EC5D66B ON competitions (Users_id)');
        $this->addSql('ALTER TABLE competitions ADD CONSTRAINT users_id FOREIGN KEY (users_id) REFERENCES users (id) ON UPDATE NO ACTION ON DELETE NO ACTION');
    }

    public function down(Schema $schema): void
    {
        // this down() migration is auto-generated, please modify it to your needs
        $this->addSql('ALTER TABLE competitions DROP FOREIGN KEY FK_A7DD463D9EC5D66B');
        $this->addSql('CREATE TABLE computer_status (id_status INT AUTO_INCREMENT NOT NULL, users_ID INT NOT NULL, comp_status VARCHAR(60) CHARACTER SET utf8 NOT NULL COLLATE `utf8_bin`, comp_id INT DEFAULT 0 NOT NULL, sessions_name VARCHAR(60) CHARACTER SET utf8 NOT NULL COLLATE `utf8_bin`, discipline VARCHAR(60) CHARACTER SET utf8 NOT NULL COLLATE `utf8_bin`, attempt INT NOT NULL, users_status VARCHAR(45) CHARACTER SET utf8 NOT NULL COLLATE `utf8_bin`, lang VARCHAR(45) CHARACTER SET utf8 NOT NULL COLLATE `utf8_bin`, grp_page VARCHAR(45) CHARACTER SET utf8 DEFAULT \'close\' NOT NULL COLLATE `utf8_bin`, realtime DATETIME DEFAULT NULL, PRIMARY KEY(id_status)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_bin` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE main_table (main_id INT AUTO_INCREMENT NOT NULL, comp_id INT DEFAULT NULL, surname_name VARCHAR(150) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_general_ci`, date_of_birth VARCHAR(100) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_general_ci`, bodyweight NUMERIC(5, 2) DEFAULT NULL, category VARCHAR(45) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_general_ci`, category_num INT DEFAULT NULL, grp INT DEFAULT 1 NOT NULL, lot INT DEFAULT NULL, rank_class VARCHAR(45) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_general_ci`, region VARCHAR(45) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_general_ci`, city VARCHAR(45) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_general_ci`, club VARCHAR(45) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_general_ci`, trener_1 VARCHAR(100) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_general_ci`, trener_2 VARCHAR(100) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_general_ci`, trener_3 VARCHAR(100) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_general_ci`, trener_4 VARCHAR(100) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_general_ci`, titles VARCHAR(300) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_general_ci`, personally INT DEFAULT NULL, out_of_comp INT DEFAULT NULL, MD INT DEFAULT NULL, dbl INT DEFAULT NULL, squat_nom NUMERIC(4, 1) DEFAULT \'0.0\' NOT NULL, bench_press_nom NUMERIC(4, 1) DEFAULT \'0.0\' NOT NULL, deadlift_nom NUMERIC(4, 1) DEFAULT \'0.0\' NOT NULL, total_nom NUMERIC(5, 1) DEFAULT \'0.0\' NOT NULL, squat_1 NUMERIC(4, 1) DEFAULT \'0.0\' NOT NULL, squat_1_res NUMERIC(4, 1) DEFAULT \'0.0\' NOT NULL, squat_1_CSS VARCHAR(100) CHARACTER SET utf8mb4 DEFAULT \'color: #000000;\' NOT NULL COLLATE `utf8mb4_general_ci`, squat_1_fcst NUMERIC(4, 1) DEFAULT \'0.0\' NOT NULL, squat_2 NUMERIC(4, 1) DEFAULT \'0.0\' NOT NULL, squat_2_res NUMERIC(4, 1) DEFAULT \'0.0\' NOT NULL, squat_2_CSS VARCHAR(100) CHARACTER SET utf8mb4 DEFAULT \'color: #000000;\' NOT NULL COLLATE `utf8mb4_general_ci`, squat_2_fcst NUMERIC(4, 1) DEFAULT \'0.0\' NOT NULL, squat_3 NUMERIC(4, 1) DEFAULT \'0.0\' NOT NULL, squat_3_res NUMERIC(4, 1) DEFAULT \'0.0\' NOT NULL, squat_3_CSS VARCHAR(100) CHARACTER SET utf8mb4 DEFAULT \'color: #000000;\' NOT NULL COLLATE `utf8mb4_general_ci`, squat_3_fcst NUMERIC(4, 1) DEFAULT \'0.0\' NOT NULL, squat_4 NUMERIC(4, 1) DEFAULT \'0.0\' NOT NULL, squat_4_res NUMERIC(4, 1) DEFAULT \'0.0\' NOT NULL, squat_4_CSS VARCHAR(100) CHARACTER SET utf8mb4 DEFAULT \'color: #000000;\' NOT NULL COLLATE `utf8mb4_general_ci`, squat_4_fcst NUMERIC(4, 1) DEFAULT \'0.0\' NOT NULL, squat_res NUMERIC(4, 1) DEFAULT \'0.0\' NOT NULL, squat_fcst NUMERIC(4, 1) DEFAULT \'0.0\' NOT NULL, bench_press_1 NUMERIC(4, 1) DEFAULT \'0.0\' NOT NULL, bench_press_1_res NUMERIC(4, 1) DEFAULT \'0.0\' NOT NULL, bench_press_1_CSS VARCHAR(100) CHARACTER SET utf8mb4 DEFAULT \'\'\'color: #000000;\'\'\' NOT NULL COLLATE `utf8mb4_general_ci`, bench_press_1_fcst NUMERIC(4, 1) DEFAULT \'0.0\' NOT NULL, bench_press_2 NUMERIC(4, 1) DEFAULT \'0.0\' NOT NULL, bench_press_2_res NUMERIC(4, 1) DEFAULT \'0.0\' NOT NULL, bench_press_2_CSS VARCHAR(100) CHARACTER SET utf8mb4 DEFAULT \'\'\'color: #000000;\'\'\' NOT NULL COLLATE `utf8mb4_general_ci`, bench_press_2_fcst NUMERIC(4, 1) DEFAULT \'0.0\' NOT NULL, bench_press_3 NUMERIC(4, 1) DEFAULT \'0.0\' NOT NULL, bench_press_3_res NUMERIC(4, 1) DEFAULT \'0.0\' NOT NULL, bench_press_3_CSS VARCHAR(100) CHARACTER SET utf8mb4 DEFAULT \'\'\'color: #000000;\'\'\' NOT NULL COLLATE `utf8mb4_general_ci`, bench_press_3_fcst NUMERIC(4, 1) DEFAULT \'0.0\' NOT NULL, bench_press_4 NUMERIC(4, 1) DEFAULT \'0.0\' NOT NULL, bench_press_4_res NUMERIC(4, 1) DEFAULT \'0.0\' NOT NULL, bench_press_4_CSS VARCHAR(100) CHARACTER SET utf8mb4 DEFAULT \'\'\'color: #000000;\'\'\' NOT NULL COLLATE `utf8mb4_general_ci`, bench_press_4_fcst NUMERIC(4, 1) DEFAULT \'0.0\' NOT NULL, bench_press_res NUMERIC(4, 1) DEFAULT \'0.0\' NOT NULL, bench_press_fcst NUMERIC(4, 1) DEFAULT \'0.0\' NOT NULL, deadlift_1 NUMERIC(4, 1) DEFAULT \'0.0\' NOT NULL, deadlift_1_res NUMERIC(4, 1) DEFAULT \'0.0\' NOT NULL, deadlift_1_CSS VARCHAR(100) CHARACTER SET utf8mb4 DEFAULT \'\'\'color: #000000;\'\'\' NOT NULL COLLATE `utf8mb4_general_ci`, deadlift_1_fcst NUMERIC(4, 1) DEFAULT \'0.0\' NOT NULL, deadlift_2 NUMERIC(4, 1) DEFAULT \'0.0\' NOT NULL, deadlift_2_res NUMERIC(4, 1) DEFAULT \'0.0\' NOT NULL, deadlift_2_CSS VARCHAR(100) CHARACTER SET utf8mb4 DEFAULT \'\'\'color: #000000;\'\'\' NOT NULL COLLATE `utf8mb4_general_ci`, deadlift_2_fcst NUMERIC(4, 1) DEFAULT \'0.0\' NOT NULL, deadlift_3 NUMERIC(4, 1) DEFAULT \'0.0\' NOT NULL, deadlift_3_res NUMERIC(4, 1) DEFAULT \'0.0\' NOT NULL, deadlift_3_CSS VARCHAR(100) CHARACTER SET utf8mb4 DEFAULT \'\'\'color: #000000;\'\'\' NOT NULL COLLATE `utf8mb4_general_ci`, deadlift_3_fcst NUMERIC(4, 1) DEFAULT \'0.0\' NOT NULL, deadlift_4 NUMERIC(4, 1) DEFAULT \'0.0\' NOT NULL, deadlift_4_res NUMERIC(4, 1) DEFAULT \'0.0\' NOT NULL, deadlift_4_CSS VARCHAR(100) CHARACTER SET utf8mb4 DEFAULT \'\'\'color: #000000;\'\'\' NOT NULL COLLATE `utf8mb4_general_ci`, deadlift_4_fcst NUMERIC(4, 1) DEFAULT \'0.0\' NOT NULL, deadlift_res NUMERIC(4, 1) DEFAULT \'0.0\' NOT NULL, deadlift_fcst NUMERIC(4, 1) DEFAULT \'0.0\' NOT NULL, total_1_att NUMERIC(5, 1) DEFAULT \'0.0\' NOT NULL, total_fcst NUMERIC(5, 1) DEFAULT \'0.0\' NOT NULL, total NUMERIC(5, 1) DEFAULT \'0.0\' NOT NULL, iPF_GL_Cf NUMERIC(5, 4) DEFAULT \'0.0000\' NOT NULL, wilks_squat NUMERIC(5, 2) DEFAULT \'0.00\' NOT NULL, wilks_fcst_squat NUMERIC(5, 2) DEFAULT \'0.00\' NOT NULL, wilks_bench_press NUMERIC(5, 2) DEFAULT \'0.00\' NOT NULL, wilks_fcst_bench_press NUMERIC(5, 2) DEFAULT \'0.00\' NOT NULL, wilks_deadlift NUMERIC(5, 2) DEFAULT \'0.00\' NOT NULL, wilks_fcst_deadlift NUMERIC(5, 2) DEFAULT \'0.00\' NOT NULL, iPF_GL NUMERIC(5, 2) DEFAULT \'0.00\' NOT NULL, iPF_GL_fcst NUMERIC(5, 2) DEFAULT \'0.00\' NOT NULL, squat_rnk INT DEFAULT NULL, squat_rnk_fcst INT DEFAULT NULL, bench_press_rnk INT DEFAULT NULL, bench_press_rnk_fcst INT DEFAULT NULL, deadlift_rnk INT DEFAULT NULL, deadlift_rnk_fcst INT DEFAULT NULL, ranking INT DEFAULT NULL, rnk_fcst INT DEFAULT NULL, points INT DEFAULT NULL, points_bp INT DEFAULT NULL, INDEX compID_idx (comp_id), PRIMARY KEY(main_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_general_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE sessions_table (id_sessions INT AUTO_INCREMENT NOT NULL, comp_id INT NOT NULL, all_sessions VARCHAR(100) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_general_ci`, sessions_name VARCHAR(100) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_general_ci`, grp INT DEFAULT NULL, category INT DEFAULT NULL, dateTime DATETIME DEFAULT NULL, INDEX comp_id (comp_id), PRIMARY KEY(id_sessions)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_general_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('CREATE TABLE users (id INT AUTO_INCREMENT NOT NULL, user VARCHAR(30) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_general_ci`, password VARCHAR(30) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_general_ci`, status VARCHAR(12) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_general_ci`, time DATETIME DEFAULT NULL, blocked VARCHAR(7) CHARACTER SET utf8mb4 DEFAULT NULL COLLATE `utf8mb4_general_ci`, nominations_id INT DEFAULT 0 NOT NULL, team VARCHAR(45) CHARACTER SET utf8mb4 NOT NULL COLLATE `utf8mb4_general_ci`, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_general_ci` ENGINE = InnoDB COMMENT = \'\' ');
        $this->addSql('ALTER TABLE main_table ADD CONSTRAINT competition_num FOREIGN KEY (comp_id) REFERENCES competitions (comp_id) ON UPDATE NO ACTION ON DELETE NO ACTION');
        $this->addSql('ALTER TABLE sessions_table ADD CONSTRAINT sessions_table_ibfk_1 FOREIGN KEY (comp_id) REFERENCES competitions (comp_id)');
        $this->addSql('DROP TABLE user');
        $this->addSql('DROP TABLE messenger_messages');
        $this->addSql('ALTER TABLE competitions DROP FOREIGN KEY FK_A7DD463D9EC5D66B');
        $this->addSql('ALTER TABLE competitions ADD status VARCHAR(45) DEFAULT NULL, CHANGE Users_id users_id INT DEFAULT NULL');
        $this->addSql('ALTER TABLE competitions ADD CONSTRAINT users_id FOREIGN KEY (users_id) REFERENCES users (id) ON UPDATE NO ACTION ON DELETE NO ACTION');
        $this->addSql('DROP INDEX idx_a7dd463d9ec5d66b ON competitions');
        $this->addSql('CREATE INDEX users_id ON competitions (users_id)');
        $this->addSql('ALTER TABLE competitions ADD CONSTRAINT FK_A7DD463D9EC5D66B FOREIGN KEY (Users_id) REFERENCES user (id)');
    }
}
